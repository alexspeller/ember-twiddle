<nav class='navbar-default gist-header flex'>
  <div class='toolbar visible-toolbar layout-column'>
    <div class='title flex-8'>
      {{gist-card gist=model
        unsaved=unsaved
        isGistSaving=isGistSaving
        isRevision=isRevision
        titleChanged=(action @titleChanged)
        deleteGist=(route-action 'deleteGist')
        saveGist=(route-action 'saveGist')
        fork=(route-action 'fork')
        copy=(route-action 'copy')
        download=(route-action 'downloadProject')
      }}
    </div>

    <div class='twiddle-pane file-tree flex'>
      {{file-tree model=model
        openFile=(action this.openFile)
      }}
    </div>

    {{#paper-list class='layout-column main-menu flex-nogrow'}}
      {{file-menu model=model
        session=session
        activeFile=activeFile
        isRevision=isRevision
        addFile=(action @addFile)
        addHelper=(action @addHelper)
        addComponent=(action @addComponent)
        addUnitTestFile=(action @addUnitTestFile)
        addIntegrationTestFile=(action @addIntegrationTestFile)
        addAcceptanceTestFile=(action @addAcceptanceTestFile)
        deleteGist=(route-action 'deleteGist')
        saveGist=(route-action 'saveGist')
        fork=(route-action 'fork')
        copy=(route-action 'copy')
        signInViaGithub=(route-action 'signInViaGithub')
        showRevision=(route-action 'showRevision')
        showCurrentVersion=(route-action 'showCurrentVersion')
        downloadProject=(route-action 'downloadProject')
      }}

      {{paper-divider}}

      {{versions-menu model=model
        onVersionChanged=(action @versionChanged)
        emberVersions=emberVersions
        emberDataVersions=emberDataVersions
      }}

      {{paper-divider}}

      {{user-menu session=session
        showProfile=(action showProfile)
        signInViaGithub=(route-action 'signInViaGithub')
        signOut=(route-action 'signOut')
        showTwiddles=(route-action 'showTwiddles')
      }}
    {{/paper-list}}
  </div>
</nav>
